<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">






  
  
  <link rel="stylesheet" media="all" href="/lib/Han/dist/han.min.css?v=3.3">




<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="tool,">










<meta name="description" content="C/C++语言复习1234567891011121314151617181920212223242526272829303132333435include&amp;lt;stdio.h&amp;gt;基本头函数 include&amp;lt;string.h&amp;gt;字符串处理函数 int main(void) &amp;#123;    int a[10];    int j=1;    for(int i = 0;i&amp;lt;1">
<meta name="keywords" content="tool">
<meta property="og:type" content="article">
<meta property="og:title" content="c语言复习">
<meta property="og:url" content="https://banniford.github.io/2020/08/20/c语言复习/index.html">
<meta property="og:site_name" content="潘的日记本">
<meta property="og:description" content="C/C++语言复习1234567891011121314151617181920212223242526272829303132333435include&amp;lt;stdio.h&amp;gt;基本头函数 include&amp;lt;string.h&amp;gt;字符串处理函数 int main(void) &amp;#123;    int a[10];    int j=1;    for(int i = 0;i&amp;lt;1">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://banniford.github.io/2020/08/20/c语言复习/1.jpg">
<meta property="og:image" content="https://banniford.github.io/2020/08/20/c语言复习/2.jpg">
<meta property="og:image" content="https://banniford.github.io/2020/08/20/c语言复习/3.jpg">
<meta property="og:image" content="https://banniford.github.io/2020/08/20/c语言复习/4.jpg">
<meta property="og:image" content="https://banniford.github.io/2020/08/20/c语言复习/5.jpg">
<meta property="og:image" content="https://banniford.github.io/2020/08/20/c语言复习/6.jpg">
<meta property="og:image" content="https://banniford.github.io/2020/08/20/c语言复习/7.jpg">
<meta property="og:image" content="https://banniford.github.io/2020/08/20/c语言复习/8.jpg">
<meta property="og:image" content="https://banniford.github.io/2020/08/20/c语言复习/9.jpg">
<meta property="og:image" content="https://banniford.github.io/2020/08/20/c语言复习/10.jpg">
<meta property="og:image" content="https://banniford.github.io/2020/08/20/c语言复习/11.jpg">
<meta property="og:updated_time" content="2020-09-28T15:05:42.601Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="c语言复习">
<meta name="twitter:description" content="C/C++语言复习1234567891011121314151617181920212223242526272829303132333435include&amp;lt;stdio.h&amp;gt;基本头函数 include&amp;lt;string.h&amp;gt;字符串处理函数 int main(void) &amp;#123;    int a[10];    int j=1;    for(int i = 0;i&amp;lt;1">
<meta name="twitter:image" content="https://banniford.github.io/2020/08/20/c语言复习/1.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://banniford.github.io/2020/08/20/c语言复习/">





  <title>c语言复习 | 潘的日记本</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">潘的日记本</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://banniford.github.io/2020/08/20/c语言复习/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="paniford">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="潘的日记本">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">c语言复习</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-08-20T21:26:48+08:00">
                2020-08-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        <h1 id="C-C-语言复习"><a href="#C-C-语言复习" class="headerlink" title="C/C++语言复习"></a>C/C++语言复习</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">include&lt;stdio.h&gt;</span><br><span class="line">基本头函数 </span><br><span class="line">include&lt;<span class="built_in">string</span>.h&gt;</span><br><span class="line">字符串处理函数 </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">int</span> j=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;<span class="number">10</span>;++i)&#123;<span class="comment">//第三个函数体最后循环结束时才运行，++i和i++一样 </span></span><br><span class="line">    </span><br><span class="line">    a[i]=++j;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,a[i]);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,i); </span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">char</span> c[<span class="number">4</span>]=&#123;<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'\0'</span>,<span class="string">'d'</span>&#125;;<span class="comment">//单个字符用‘’\0表示结束，“”超过一个字符 </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%c"</span>,getchar());</span><br><span class="line"><span class="keyword">char</span> str[<span class="number">13</span>];</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%s"</span>,str);<span class="comment">//c语言中如果输入是数据变量则不需要加&amp;引用，数组本身就是引用地址 </span></span><br><span class="line"><span class="keyword">int</span> a ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a); </span><br><span class="line"><span class="keyword">char</span> c[]=&#123;<span class="string">"China\n12223"</span>&#125;;<span class="comment">//会在字符组后自动 添加\0 </span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%s"</span>,c);</span><br><span class="line"><span class="built_in">puts</span>(c);<span class="comment">//输出已经定义得字符组 </span></span><br><span class="line"></span><br><span class="line">gets(c);<span class="comment">//从键盘获取char数组字符+1位返回值时c得起始地址，puts和gets只能输出和输入一个字符串 </span></span><br><span class="line"><span class="built_in">puts</span>(c);</span><br><span class="line"><span class="keyword">char</span> c[<span class="number">20</span>]=&#123;<span class="string">"China\n12223"</span>&#125;;<span class="comment">//会在字符组后自动 添加\0 </span></span><br><span class="line"><span class="keyword">char</span> str[]=&#123;<span class="string">"\nxxx"</span>&#125;;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%s"</span>,<span class="built_in">strcat</span>(c,str));<span class="comment">//strcat可以链接两个字符串，且第一个字符串要足够大可以容纳下1，2两个数组，不满得位置都是\0</span></span><br><span class="line"><span class="keyword">char</span> str1[<span class="number">10</span>],str2[]=<span class="string">"China"</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%s"</span>,<span class="built_in">strcpy</span>(str1,str2));<span class="comment">//将字符串2复制到1中也可以strcpy(str1,"China") </span></span><br><span class="line"><span class="built_in">strcmp</span>(str1,<span class="string">"China"</span>);<span class="comment">//比较两个字符串相等=0左大为正数，右大为负数 </span></span><br><span class="line"><span class="built_in">strlen</span>(<span class="string">"asdasd"</span>);<span class="comment">//统计字符串完整长度，不包括\0</span></span><br><span class="line"><span class="comment">//strlwr将字符串中大转小 strupr 小转大</span></span><br></pre></td></tr></table></figure>
<p>函数写在<code>main</code>下面得时候，要在<code>main</code>函数里面声明，例如 <code>viod test();</code>调用<code>test()；</code></p>
<p>带返回值得函数都需加类型，没有返回值得用void 传递数组时，传递首地址，所以声明函数中数组可以不加大小<br><code>void test(int array[])</code>但是类型要一致 ，多维要加最高维度大小 <code>int test(int array[][10])</code></p>
<p>寄存器变量 <code>register</code> 减少去内存读取数量 </p>
<p>全局变量定义域一般从定义处开始到文件末，使用<code>extern</code>可以把下面得全局变量扩展到此处。两个文件间使用扩展得话<br>就是一个文件定义全局变量，另一个文件使用<code>extern</code>进行扩展链接 ，如果一个文件中全局变量被<code>static</code>修饰，<br>则其他文件中不能用<code>extern</code>扩展</p>
<p><code>static</code> 修饰函数时不能被其他文件调用  <code>extern</code> 修饰函数可以被其他文件声明使用 是默认，可省 </p>
<a id="more"></a>
<h3 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h3><ul>
<li><p><strong>&amp;</strong>  取地址运算符。<strong>&amp;a</strong>是变量a的地址</p>
</li>
<li><p><code>*</code>指针运算符(或称“间接访问”运算符)，<strong>*p</strong> 代表指针变量 <strong>p</strong> 指向的对象。</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a=<span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> *p=&amp;a;<span class="comment">//相当于 int *p; p=&amp;a;</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,a);<span class="comment">//变量a的值</span></span><br><span class="line"><span class="comment">//p=&amp;a; </span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,*p);<span class="comment">//间接访问变量a的值</span></span><br><span class="line">*p=<span class="number">2</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,p);<span class="comment">//变量a的地址</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">输出：</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="number">6487572</span></span><br></pre></td></tr></table></figure>
<ul>
<li>指针指向数组包括：</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a[<span class="number">3</span>]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> *p;</span><br><span class="line">p=&amp;a[<span class="number">1</span>];<span class="comment">//得到a[1]元素的地址</span></span><br><span class="line">p=a;<span class="comment">//相当于p=&amp;a[0]获得数组a首元素a[0]的地址</span></span><br></pre></td></tr></table></figure>
<p>数组名赋值给指针只能代表首元素地址，并不能表示整个数组。</p>
<p>因为数组在内存中是<strong>顺序存储</strong>，所以可以采用<code>p+1</code>的方式使指针指向下一个元素。注意：执行<code>p+1</code>时并不是将<code>p</code>的值（地址）简单的加<strong>1</strong>，而是加上一个数组元素所占用的字节数。所以<code>p+1</code>意味着使<code>p</code>的值（是地址）加上<strong>4</strong>个字节，所代表的地址实际上是<code>（p+1）*d</code>（<strong>int d=4字节, float和long d=4字节, char d=1字节</strong>）,二维数组名指针指向首行首元素，加1后相当于加了1行，地址加了一整行的大小，表示下一个元素使用 <strong>a[0]+1</strong></p>
<hr>
<p><strong>指针数组</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a [<span class="number">4</span>]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> (*p)[<span class="number">4</span>];</span><br><span class="line">p=&amp;a;<span class="comment">//指向一维数组，不能写成“p=a;”，因为这样表示p是&amp;a[0]，指向a[0]。“p=&amp;a;”表示p指向一维数组（行），（*p）[3]是p所指向的行中序号为3的元素。</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,(*p)[<span class="number">3</span>]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>例题：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;<span class="function"><span class="keyword">void</span> <span class="title">average</span><span class="params">(<span class="keyword">float</span> *p,<span class="keyword">int</span> n)</span></span>;</span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">search</span><span class="params">(<span class="keyword">float</span> (*p)[<span class="number">4</span>] ,<span class="keyword">int</span> n)</span></span>;</span><br><span class="line"> </span><br><span class="line"> <span class="keyword">float</span> a[<span class="number">3</span>][<span class="number">4</span>]=&#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;,&#123;<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;,&#123;<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;,&#123;<span class="number">4</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;&#125;;</span><br><span class="line"> average(*a,<span class="number">12</span>);<span class="comment">//传入参数为*a 即a[0],也就是&amp;a[0][0],即a[0][0]的地址。</span></span><br><span class="line"> serach(a,<span class="number">2</span>);<span class="comment">//传入实参a，因为对应float (*p)[4]是包含4个元素的一组数组的指针变量，所以p指向的是a[0],第0行的地址。p+n是a[n]的起始地址，*（p+n）+i是a[n][i]的地址，*(*(p+n)+i)是a[n][i]的元素值 a+i=a[i]=*(a+i)=&amp;a[i]=&amp;a[i][0]</span></span><br><span class="line"> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">average</span><span class="params">(<span class="keyword">float</span> *p,<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">float</span> *p_end;</span><br><span class="line">    <span class="keyword">float</span> sum=<span class="number">0</span>,aver;</span><br><span class="line">    p_end=p+n<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(;p&lt;=p_end;p++)</span><br><span class="line">        sum=sum+(*p);</span><br><span class="line">    aver=sum/n;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"average%5.2f\n"</span>,aver);<span class="comment">//5.2是指结果总长是五位数（注意小数点也算一位数长），就是小数点前两个数字，不足就用空格表示，小数点后保留两位，不足四舍五入！</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">search</span><span class="params">(<span class="keyword">float</span> (* p)[<span class="number">4</span>],<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"第%d行\n"</span>,n);</span><br><span class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;=<span class="number">4</span>;i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%5.2f"</span>,*(*(p+n)+i));<span class="comment">//等价*(p[n]+i)等价*(&amp;p[n][i])</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对于字符串来说</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> str[]=<span class="string">"asadad"</span>;<span class="comment">//str[4]相当于*（str+4）</span></span><br><span class="line"><span class="keyword">char</span> *str=<span class="string">"asdasdd"</span>;<span class="comment">//相当于 char *str;str="asdasdd";字符串并没有被放入指针，而是“asdasdd”的第一个字符的地址赋值给了指针变量str</span></span><br></pre></td></tr></table></figure>
<p>对于字符串中字符的存取，可以用下标方法，也可以用指针方法，如：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> a[]=<span class="string">"paniford"</span>,b[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>;*(a+i)!=<span class="string">'\0'</span>,i++)</span><br><span class="line">        *(b+i)=*(a+i);<span class="comment">//将a[i]给b[i]</span></span><br><span class="line">    *(b+i)=<span class="string">'\0'</span>;<span class="comment">//在最后加\0 ！！注意！！使用‘’对单个char</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"string a is: %s\n"</span>,a);<span class="comment">//输出a中全部有效字符，%s输出字符串时不用*计算双重时加一个*</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"string b is;"</span>);</span><br><span class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>;b[i]!=<span class="string">'\0'</span>,i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%c"</span>,b[i]);<span class="comment">//逐个输出b组中全部有效字符</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>注意：</p>
<ul>
<li><p><strong>字符数组由若干个元素组成，每个元素中放一个字符，而字符指针变量中存放的是地址</strong>（字符串第1个字符地址），绝不是将字符串放到字符指针变量中。</p>
</li>
<li><p>赋值方式。<strong>可以对字符指针变量赋值，但不能对数组名赋值</strong></p>
<p>可以才采用一下方法对字符指针变量赋值：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> *a;</span><br><span class="line">a=<span class="string">"test"</span>;<span class="comment">//a并不代表字符串，而是第一个元素地址</span></span><br></pre></td></tr></table></figure>
<p>不能用以下方法对字符数组名赋值：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> str[<span class="number">14</span>];</span><br><span class="line">str[<span class="number">0</span>]=<span class="string">'i'</span>;<span class="comment">//对字符元素赋值，√</span></span><br><span class="line">str=<span class="string">"test"</span>;<span class="comment">//×</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>初始化含义。对字符变量赋值：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> *a = <span class="string">"test"</span>;</span><br></pre></td></tr></table></figure>
<p>等价于</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> *a;</span><br><span class="line">a=<span class="string">"test"</span>;</span><br></pre></td></tr></table></figure>
<p>而对数组初始化：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> str[<span class="number">5</span>]=<span class="string">"test"</span>;</span><br></pre></td></tr></table></figure>
<p>不等价于</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> str[<span class="number">5</span>];</span><br><span class="line">str[]=<span class="string">"test"</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用输入时，不能直接将内容输入指针，指针必须指向一段地址：</p>
<p>错误：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> *a;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%s"</span>,a);</span><br></pre></td></tr></table></figure>
<p>正确：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> *a,str[<span class="number">5</span>];</span><br><span class="line">a=str;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%s"</span>,a);</span><br></pre></td></tr></table></figure>
</li>
<li><p>字符数组中各元素的值是可以被改变的（可以对它们再赋值），但字符指针变量指向的字符串常量中的内容是不可以被取代的（不能对它们再赋值）。如：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> a[]=<span class="string">"house"</span>;</span><br><span class="line"><span class="keyword">char</span> *str=<span class="string">"house"</span>;</span><br><span class="line">a[<span class="number">2</span>]=<span class="string">'r'</span>;<span class="comment">//合法，r取代a数组元素a[2]的原值u</span></span><br><span class="line">str[<span class="number">2</span>]=<span class="string">'r'</span>;<span class="comment">//非法，字符串常量不能改变</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<p><strong>函数指针：</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> (*p)(<span class="keyword">int</span>,<span class="keyword">int</span>);</span><br><span class="line">p=test;<span class="comment">//将函数入口地址赋给p</span></span><br><span class="line"><span class="keyword">int</span> a=<span class="number">2</span>,b=<span class="number">3</span>;</span><br><span class="line">c=(*p)(a,b);</span><br></pre></td></tr></table></figure>
</li>
<li><p>利用函数指针向函数中传递函数</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fun</span><span class="params">(<span class="keyword">int</span> (*x1)(<span class="keyword">int</span>),<span class="keyword">int</span>(*x2)(<span class="keyword">int</span>,<span class="keyword">int</span>))</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a,b,i=<span class="number">3</span>,j=<span class="number">5</span>;</span><br><span class="line">    a=(*x1)(i);</span><br><span class="line">    b=(*x2)(i,j);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回指针值的函数</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> *<span class="title">a</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>;<span class="comment">//()优先级高于*</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<p><strong>指针数组和多重指针</strong>：</p>
<ul>
<li><p>一个数组其元素均为指针类型数据，称为<strong>指针数组</strong>，也就是说，指针数组中每个元素存放一个地址，相当于一个指针变量，如下所示：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> *p[<span class="number">4</span>];</span><br></pre></td></tr></table></figure>
<ul>
<li>由于 <strong>[]</strong> 优先级高于“ <code>*</code> ”，所以 <strong>p</strong> 先和 <strong>[]</strong> 结合为一个数组，再和“ <code>*</code> ” 结合成为一个指针数组，每个数组元素相当于指针变量，可指向一个整形变量。</li>
<li>注意：不要写成 <code>int (*p)[4]</code>这是指向一维数组的指针变量</li>
<li>例题：定义一个指针数组 name，用各字符串对它进行初始化，即把各字符串中第1个字符的地址赋值给指针数组的各元素。然后用选择法排序，但不移动字符串，只改变数组的各元素指向,从小到大排序。</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">char</span> *name[],<span class="keyword">int</span> n)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">char</span>  *name[],<span class="keyword">int</span> n)</span></span>;</span><br><span class="line">    <span class="keyword">char</span> *name[]=&#123;<span class="string">"one"</span>,<span class="string">"two"</span>,<span class="string">"three"</span>,<span class="string">"four"</span>,<span class="string">"five"</span>&#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> n = <span class="number">5</span>;</span><br><span class="line">    sort(name,n);</span><br><span class="line">    print(name,n);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">char</span> *name[],<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> *temp;</span><br><span class="line">    <span class="keyword">int</span> i,j,k;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n<span class="number">-1</span>;i++)&#123;</span><br><span class="line">        k=i;</span><br><span class="line">        <span class="keyword">for</span>(j=i+<span class="number">1</span>;j&lt;n;j++)</span><br><span class="line">            <span class="function"><span class="keyword">if</span> <span class="title">strcmp</span><span class="params">(name[k],name[j]&gt;<span class="number">0</span>)</span>k</span>=j; <span class="comment">//不能写成if(*name[k]&gt;*name[j])k=j;因为这样只比较了所指向字符串的第一个字符，而不是整个字符串</span></span><br><span class="line">        <span class="keyword">if</span>(k!=i)</span><br><span class="line">        &#123;temp=name[i];name[i]=name[k];name[k]=temp;&#125;  </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">char</span> *name[],<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        print(<span class="string">"%s\n"</span>,name[i])；<span class="comment">//%s根据地址解析字符串，不用加*引用计算</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p><code>**p</code> 从右向左读相当于 <code>*(*p)</code> 其中 <code>*p</code> 表示指针变量 而前面加 <code>*</code>则可以表示指向指针变量的指针，例如：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> *name[]=&#123;<span class="string">"one"</span>,<span class="string">"two"</span>,<span class="string">"three"</span>,<span class="string">"four"</span>,<span class="string">"five"</span>&#125;;</span><br><span class="line">    <span class="keyword">char</span> **p;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)&#123;</span><br><span class="line">        p=name+i;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,*p);<span class="comment">//指向字符串时%s可以直接解析地址输出字符串，%d则输出地址</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a[<span class="number">5</span>]=&#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> *num[<span class="number">5</span>]=&#123;&amp;a[<span class="number">0</span>],&amp;a[<span class="number">1</span>],&amp;a[<span class="number">2</span>],&amp;a[<span class="number">3</span>],&amp;a[<span class="number">4</span>]&#125;;</span><br><span class="line">    <span class="keyword">int</span> **p,i;</span><br><span class="line">    p=num;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,**p);<span class="comment">//指向整型数组时p时指向指针型数据的指针变量</span></span><br><span class="line">        p++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<p><strong>动态分配内存</strong></p>
<ul>
<li>C99允许使用基类型为<code>void</code>的指针类型。可以定义一个基类型为<code>void</code>的指针变量（即 <code>void *</code> 型变量），它不指向任何类型的数据。请注意：不要把 “指向<code>void</code>类型” 理解为能指向 “任何的类型” 的数据，而应理解为 “指向<strong>空类型</strong>” 或 “<strong>不指向确定</strong>的类型” 的数据。在将它的值赋给另一指针变量时由系统对它进行类型转换，使之适合于被赋值的变量的类型。例如</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a =<span class="number">3</span>;<span class="comment">//定义a为整型变量</span></span><br><span class="line"><span class="keyword">int</span> *p1 = &amp;a;<span class="comment">//p1 指向int型变量</span></span><br><span class="line"><span class="keyword">char</span> *p2;<span class="comment">//p2 指向char型变量</span></span><br><span class="line"><span class="keyword">void</span> *p3;<span class="comment">//p3为无类型指针变量（基类型为viod型）</span></span><br><span class="line">p3=(<span class="keyword">void</span> *)p1;<span class="comment">//将p1的值转换为 void* 类型，然后赋值给 p3</span></span><br><span class="line">p2=(<span class="keyword">char</span> *)p3;<span class="comment">//将p3的值转换为 char* 类型，然后赋值给 p2</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>,* p1);<span class="comment">//合法，输出a的值</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>,* p2);<span class="comment">//合法，输出a的值</span></span><br><span class="line">p3=&amp;a;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>,* p3);<span class="comment">//错误，p3是无指向的，不能指向a</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>注意：当把<code>void</code>指针赋值给不同基类型的指针变量（或相反）时，编译系统会自动转换，不必用户自己进行强制转换。例如：</p>
<p><code>p3=&amp;a;</code></p>
<p>相当于<code>p3=（void *）&amp;a;</code>,赋值后<code>p3</code>得到<code>a</code>的纯地址，但并不指向<code>a</code>，不能通过<code>* p3</code>输出<code>a</code>的值。</p>
</li>
</ul>
<p>例题：建立动态数组，输入5个学生的成绩，另外用一个函数检查其中有无低于60分的，输出不合格的成绩。</p>
<p>思路：用<code>malloc</code>函数开辟一个动态自由区域，用来存5个学生的成绩，会得到这个动态域第1个字节的地址，它的基类型是<code>void</code>型。用一个基类型为 <code>int</code> 的指针变量 <code>p</code> 来指向动态数组的各元素，并输出它们的值。但必须先把<code>malloc</code> 函数返回<code>void</code>指针转换为整型指针，然后赋给 <code>p1</code>。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="comment">//包含malloc函数的stdlib.h</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">check</span> <span class="params">(<span class="keyword">int</span> *)</span></span>;<span class="comment">//声明函数可省指针</span></span><br><span class="line">    <span class="keyword">int</span> *p1,i;</span><br><span class="line">    p1=(<span class="keyword">int</span> *)<span class="built_in">malloc</span>(<span class="number">5</span> * <span class="keyword">sizeof</span>(<span class="keyword">int</span>)); <span class="comment">//开辟动态内存区，将地址转换成 int *型，然后放在p1中，malloc函数的返回值是void * 类型，要把它赋给p1，应先进行类型的转换，把该指针转换成int*型。</span></span><br><span class="line">    <span class="comment">//p1=malloc(5 * sizeof(int));//也合法，编译系统会自动转换</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,p1+i);</span><br><span class="line">    check(p1);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> *p)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"They are fail:"</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)</span><br><span class="line">        <span class="keyword">if</span>(p[i]&lt;<span class="number">60</span>)<span class="built_in">printf</span>(<span class="string">"%d"</span>,p[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>要区别指针和指针变量。指针就是地址本身。而指针变量是用来存放地址的变量。指针变量的值是一个地址。</strong></p>
<p><img src="/2020/08/20/c语言复习/1.jpg" alt="指针表示"></p>
<p><img src="/2020/08/20/c语言复习/2.jpg" alt="指针表示2"></p>
<p>指针变量可以有空值：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p=NUll;<span class="comment">//NULL是一个符号常量，代表整数0，malloc分配失败时也为NULL</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Date</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> month;</span><br><span class="line">    <span class="keyword">int</span> day;</span><br><span class="line">    <span class="keyword">int</span> year;</span><br><span class="line">&#125;birthday;<span class="comment">//等价</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">char</span> sex;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Date</span> <span class="title">birthday</span>;</span></span><br><span class="line">    <span class="keyword">char</span> addr[<span class="number">30</span>];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/20/c语言复习/3.jpg" alt="结构体示意图"></p>
<p><strong>结构体初始化：</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Student</span>&#123;</span></span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">int</span> num;</span><br><span class="line">        <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">        <span class="keyword">char</span> sex;</span><br><span class="line">        <span class="keyword">char</span> addr[<span class="number">20</span>];</span><br><span class="line">    &#125;a=&#123;<span class="number">10101</span>,<span class="string">"xiaohong"</span>,<span class="string">'M'</span>,<span class="string">"123123beijing"</span>&#125;;<span class="comment">//定义结构体变量a并初始化</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"NO.:%ld\n name:%s\n sex:%c\n address:%s\n"</span>,a.num,a.name,a.sex,a.addr);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>对结构体中某一项初始化：</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">b</span>=&#123;</span>.name=<span class="string">"Zhang Fang"</span>&#125;;</span><br></pre></td></tr></table></figure>
<p>在引用结构体和使用时不能使用整体结构体进行赋值、存取以及运算，必须具体到元素，如果其中有嵌套其他结构体，要一级一级找到最低级的成员。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">student1.num</span><br><span class="line">student1.birthday.month</span><br></pre></td></tr></table></figure>
<p><strong>结构体数组：</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span>&#123;</span></span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">int</span> count;</span><br><span class="line">&#125;leader[<span class="number">3</span>]=&#123;<span class="string">"li"</span>,<span class="number">0</span>,<span class="string">"zhang"</span>,<span class="number">0</span>,<span class="string">"wang"</span>,<span class="number">0</span>&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span> <span class="title">leader</span>[3]=&#123;</span><span class="string">"li"</span>,<span class="number">0</span>,<span class="string">"zhang"</span>,<span class="number">0</span>,<span class="string">"wang"</span>,<span class="number">0</span>&#125;;<span class="comment">//等价</span></span><br></pre></td></tr></table></figure>
<p><strong>结构体指针：</strong></p>
<p>如果 <code>p</code> 指向一个结构体变量 <code>stu</code> ，以下三种用法等价：</p>
<ul>
<li><code>stu</code>.成员名（如 <code>stu.num</code>）;</li>
<li><code>(*p)</code>.成员名(如 <code>(*p).num</code>);//不能写成<code>*p.num</code>因为<code>.</code>的优先级高于<code>*</code> 相当于<code>*(p.num)</code></li>
<li><code>p-&gt;</code>成员名(如 <code>p-&gt;num</code>)</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> N 2<span class="comment">//不能加=</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span>&#123;</span></span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">int</span> num;</span><br><span class="line">        <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">        <span class="keyword">char</span> sex;</span><br><span class="line">        <span class="keyword">int</span> age;</span><br><span class="line">    &#125;a=&#123;<span class="number">10101</span>,<span class="string">"xiaohong"</span>,<span class="string">'M'</span>,<span class="number">22</span>&#125;,b[<span class="number">3</span>]=&#123;<span class="number">10101</span>,<span class="string">"xiaohong"</span>,<span class="string">'M'</span>,<span class="number">22</span>,<span class="number">10102</span>,<span class="string">"xiaohong2"</span>,<span class="string">'M'</span>,<span class="number">27</span>,<span class="number">10103</span>,<span class="string">"xiaohong3"</span>,<span class="string">'M'</span>,<span class="number">21</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(struct Student stu)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">input</span><span class="params">(struct Student stu[])</span></span>;</span><br><span class="line">    <span class="function">struct Student <span class="title">max</span><span class="params">(struct Student stu[])</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Student</span> *<span class="title">p</span>=&amp;<span class="title">a</span>,*<span class="title">q</span>=<span class="title">b</span>;</span><span class="comment">//等价于struct Student *p,*q;p=&amp;a,q=b;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">stu1</span>[<span class="title">N</span>],*<span class="title">t</span>=<span class="title">stu1</span>;</span></span><br><span class="line">    </span><br><span class="line">    input(t);</span><br><span class="line">    print(t[<span class="number">0</span>]);</span><br><span class="line">	print(t[<span class="number">1</span>]);</span><br><span class="line">    print(max(q));</span><br><span class="line">    print(*p);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%5d %-5s %2c %4d\n"</span>,p-&gt;num,p-&gt;name,p-&gt;sex,p-&gt;age);</span><br><span class="line">    </span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">input</span><span class="params">(struct Student stu[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i ;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"请输入两位学生信息：学号、姓名、性别(M|W)、年龄\n"</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;N;i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %s %c %d"</span>,&amp;stu[i].num,&amp;stu[i].name,&amp;stu[i].sex,&amp;stu[i].age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(struct Student stu)</span></span>&#123;<span class="comment">//只传值</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d %s %c %d\n"</span>,stu.num,stu.name,stu.sex,stu.age);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">struct Student <span class="title">max</span><span class="params">(struct Student stu[])</span></span>&#123;<span class="comment">//传地址，返回地址 函数类型要与返回类型一致</span></span><br><span class="line"><span class="keyword">int</span> i ,m=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (i =<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)&#123;</span><br><span class="line">	<span class="keyword">if</span> (stu[i].age&gt;stu[m].age)m=i;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">return</span> stu[m];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>可以采用结构体指针做实参传入函数进行处理</strong></p>
<hr>
<h3 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    <span class="keyword">float</span> score;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Student</span> *<span class="title">next</span>;</span><span class="comment">//结构体指针指向结构体变量</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>例题：建立一个简单链表，有3个学生数据的结点组成，要求输出各个结点的数据。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    <span class="keyword">float</span> score;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Student</span> *<span class="title">next</span>;</span><span class="comment">//结构体指针指向结构体变量</span></span><br><span class="line">&#125;;</span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">     <span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">a</span>,<span class="title">b</span>,<span class="title">c</span>,*<span class="title">head</span>,*<span class="title">p</span>;</span></span><br><span class="line">     a.num=<span class="number">101</span>;a.score=<span class="number">90</span>;</span><br><span class="line">     b.bum=<span class="number">102</span>;b.score=<span class="number">89.5</span>;</span><br><span class="line">     c.num=<span class="number">103</span>;c.score=<span class="number">70.5</span>;</span><br><span class="line">     head = &amp;a;</span><br><span class="line">     a.next=&amp;b;</span><br><span class="line">     b.next=&amp;c;</span><br><span class="line">     c.next=<span class="literal">NULL</span>;</span><br><span class="line">     p=head;</span><br><span class="line">     <span class="keyword">do</span>&#123;</span><br><span class="line">         <span class="built_in">printf</span>(<span class="string">"%ld %5.1f\n"</span>,p-&gt;num,p-&gt;score);</span><br><span class="line">         p=p-&gt;next;</span><br><span class="line">     &#125;<span class="keyword">while</span>(p!=<span class="literal">NULL</span>);</span><br><span class="line">     <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>例题：建立一个有3名学生数据的单项动态链表</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> LEN sizeof(struct Student)</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    <span class="keyword">float</span> score;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Student</span> *<span class="title">next</span>;</span><span class="comment">//结构体指针指向结构体变量</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="function">struct Student *<span class="title">creat</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123; <span class="comment">//定义函数，此函数返回一个指向链表头的指针，括号中的*不能省，因为返回的head是一个指针类型，</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Student</span> *<span class="title">head</span>,*<span class="title">p1</span>,*<span class="title">p2</span>;</span></span><br><span class="line">    n=<span class="number">0</span>;</span><br><span class="line">    p1=p2=(struct Student *)<span class="built_in">malloc</span>(LEN);<span class="comment">//开辟一个新单元LEN表示结构体Student的长度</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d，%f"</span>,&amp;p1-&gt;num,&amp;p1-&gt;score);<span class="comment">//输入时%d，%f如果有，号会优先赋值运行，使用空格会使全部输入完成才向下运行</span></span><br><span class="line">    head=<span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">while</span>(p1-&gt;num!=<span class="number">0</span>)&#123;<span class="comment">//输入0，0表示结束</span></span><br><span class="line">        n=n+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">1</span>)head=p1;</span><br><span class="line">        <span class="keyword">else</span> p2-&gt;next=p1;</span><br><span class="line">        p2=p1;</span><br><span class="line">        p1=(struct Student *)<span class="built_in">malloc</span>(LEN);<span class="comment">//括号中的*不能省，否则将强制转换为struct Student类型，而不是指针类型了</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d，%f"</span>,&amp;p1-&gt;num,&amp;p1-&gt;score);<span class="comment">//输入时%d，%f如果有，号会优先赋值运行，使用空格会使全部输入完成才向下运行</span></span><br><span class="line">    &#125;</span><br><span class="line">    p2-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span>(head);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Student</span> *<span class="title">pt</span>;</span></span><br><span class="line">    pt=creat();</span><br><span class="line">    <span class="comment">//while(pt!=NULL)&#123;</span></span><br><span class="line">    <span class="comment">//    printf("\n num:%ld \nscore:%5.1f\n",pt-&gt;num,pt-&gt;score);</span></span><br><span class="line">    <span class="comment">//    pt=pt-&gt;next;</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line">    <span class="comment">//    do&#123;</span></span><br><span class="line"><span class="comment">//    	printf("\n num:%ld \nscore:%5.1f\n",pt-&gt;num,pt-&gt;score);</span></span><br><span class="line"><span class="comment">//        pt=pt-&gt;next;</span></span><br><span class="line"><span class="comment">//	&#125;while(pt!=NULL);</span></span><br><span class="line">     </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">   	 <span class="built_in">printf</span>(<span class="string">"\n num:%ld \nscore:%5.1f\n"</span>,pt-&gt;num,pt-&gt;score);</span><br><span class="line">     pt=pt-&gt;next;</span><br><span class="line">   &#125;;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="共用体"><a href="#共用体" class="headerlink" title="共用体"></a>共用体</h3><p>使几个不同的变量共享一段内存的结构，称为“<strong>共用体</strong>”类型的结构。<strong>在结构体中占用的内存大小是所有的数据类型的大小之和。在共用体中占用的内存大小是所有数据中最大的数据类型的值。</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">union</span> Data&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">char</span> ch;</span><br><span class="line">    <span class="keyword">float</span> f;</span><br><span class="line">&#125;a,b,c;</span><br><span class="line"><span class="keyword">union</span> Data a,b,c;<span class="comment">//等价</span></span><br></pre></td></tr></table></figure>
<p>引用共用体的方式：</p>
<ul>
<li>只有先定义了共用体变量才能引用他，三个成员<strong>共用一个地址</strong>，但应注意，不能引用共用体变量，而只能引用变量中的成员。</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a.i</span><br><span class="line">a.ch</span><br><span class="line">a.f</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>,a.i);</span><br></pre></td></tr></table></figure>
<ul>
<li>在使用公用体时要注意，在每一瞬间，共用体中只能存放一个成员，储存单元只有唯一的内容。</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a.i=<span class="number">97</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>,a.i); <span class="comment">//(输出整数97)</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%c"</span>,a.ch);<span class="comment">//输出‘a’,是ASCII码值对应的字符</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%f"</span>,a.f);<span class="comment">//输出实数0.000000</span></span><br></pre></td></tr></table></figure>
<ul>
<li>可以对共用体初始化</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">union</span> Data&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">char</span> ch;</span><br><span class="line">    <span class="keyword">float</span> f;</span><br><span class="line">&#125;a=&#123;<span class="number">1</span>,<span class="string">'a'</span>,<span class="number">4.5</span>&#125;;<span class="comment">//错误，不能初始化3个成员</span></span><br><span class="line"><span class="keyword">union</span> Data a=&#123;<span class="number">16</span>&#125;;<span class="comment">//正确，对第1个成员初始化</span></span><br><span class="line"><span class="keyword">union</span> Data a=&#123;.ch=<span class="string">'j'</span>&#125;;<span class="comment">//C99允许对指定一个成员初始化</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="枚举类型"><a href="#枚举类型" class="headerlink" title="枚举类型"></a>枚举类型</h3><p>如果一个变量只有几种可能的值，则可以定义为<strong>枚举类型(enum)</strong>，声明枚举类型用<strong>enum</strong>开头。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> Weekday&#123;sun,mon,tue,wed,thu,fri,sat&#125;;</span><br><span class="line"><span class="keyword">enum</span> &#123;sun,mon,tue,wed,thu,fri,sat&#125;Workday,weekend;<span class="comment">//可以不声明有名字的枚举类型，而直接定义变量</span></span><br><span class="line">Weekday=mon;<span class="comment">//合法</span></span><br><span class="line">Weekday=sun;<span class="comment">//合法</span></span><br><span class="line">Weekday=monday;<span class="comment">//非法，不是枚举类中所有的变量</span></span><br></pre></td></tr></table></figure>
<ul>
<li>每个枚举元素都代表一个整数，C语言编译按定义时的顺序默认他们的值为0，1，2，3······。在上面的定义中，<strong>sun</strong> 的值为 <strong>0</strong> ，<strong>mon</strong> 的值为 <strong>1</strong>，···<strong>sat</strong> 的值为 <strong>6</strong>。如果有赋值语句：</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">workday=mon;</span><br><span class="line"><span class="comment">//相当于</span></span><br><span class="line">workday=<span class="number">1</span>;</span><br><span class="line"><span class="comment">//可以使用printf输出</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>,workday);<span class="comment">//输出为整数1</span></span><br><span class="line"><span class="keyword">enum</span> Weekday&#123;sun=<span class="number">7</span>,mon=<span class="number">1</span>,tue,wed,thu,fri,sat&#125;Workday,weekend;<span class="comment">//也可以自定义，指定sun为7，mon为1，以后顺序加1</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="typedef"><a href="#typedef" class="headerlink" title="typedef"></a>typedef</h3><p>使用<strong>typedef</strong>声明新类型(别名)例如：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> Integer;<span class="comment">//指定用Integer为类型名，作用与int相等。</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h3><ul>
<li>打开文件<code>fopen</code></li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">FILE *fp;<span class="comment">//定义一个指向文件的指针变量fp</span></span><br><span class="line">fp=fopen(<span class="string">"a1"</span>,<span class="string">"r"</span>);<span class="comment">//将fopen函数的返回值赋给指针变量fp</span></span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/20/c语言复习/4.jpg" alt></p>
<p><img src="/2020/08/20/c语言复习/5.jpg" alt></p>
<ul>
<li>使用<code>fopen</code>时如果出错，如：<strong>用”r“打开一个不存在的文件，磁盘故障，磁盘已满无法建立新文件等</strong>。此时<code>fopen</code>会返回一个空指针值 <code>NULL</code></li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>((fp=fopen(<span class="string">"file"</span>,<span class="string">"r"</span>))==<span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"无法打开此文件\n"</span>);</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);<span class="comment">//关闭所有文件，中止程序</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>关闭文件使用<code>fclose</code>,一般形式为 <code>fclose(文件指针)</code>：</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fclose(fp);<span class="comment">//有返回值，成功返回0，否则返回EOF(-1)。</span></span><br></pre></td></tr></table></figure>
<ul>
<li>读写操作使用<code>fgetc(fp)</code>和<code>fputc(ch,fp)</code>:</li>
</ul>
<p><img src="/2020/08/20/c语言复习/6.jpg" alt></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">    FILE *fp;</span><br><span class="line"><span class="keyword">char</span> ch,filename[<span class="number">10</span>];</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"文件名："</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%s"</span>,filename);</span><br><span class="line">fp=fopen(filename,<span class="string">"w"</span>);<span class="comment">//使用“w”写时如果不存在则创建，存在相同则删除原有重新创建</span></span><br><span class="line">ch =getchar();<span class="comment">//用来接收输入的回车符</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入字符串（以#结束）：\n"</span>);</span><br><span class="line">ch=getchar();</span><br><span class="line"><span class="keyword">while</span>(ch!=<span class="string">'#'</span>)&#123;</span><br><span class="line">	fputc(ch,fp);<span class="comment">//向磁盘文件输出第一个字符</span></span><br><span class="line">	<span class="built_in">putchar</span>(ch);<span class="comment">//将输出的字符显示在屏幕上</span></span><br><span class="line">	ch=getchar();<span class="comment">//再接收字符</span></span><br><span class="line">&#125;</span><br><span class="line">fclose(fp);<span class="comment">//关闭文件</span></span><br><span class="line"><span class="built_in">putchar</span>(<span class="number">10</span>);<span class="comment">//向屏幕输出换行符</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">    FILE *in,*out;</span><br><span class="line"><span class="keyword">char</span> ch,infile[<span class="number">10</span>],outfile[<span class="number">10</span>];</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"输入读入文件名"</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%s"</span>,infile);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"输入输出文件名"</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%s"</span>,outfile);</span><br><span class="line"><span class="keyword">if</span>((in=fopen(infile,<span class="string">"r"</span>))==<span class="literal">NULL</span>)&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"无法打开此文件"</span>);</span><br><span class="line">	<span class="built_in">exit</span>(<span class="number">0</span>); </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>((out=fopen(outfile,<span class="string">"a"</span>))==<span class="literal">NULL</span>)&#123;<span class="comment">//向文件2追加</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"无法打开此文件"</span>);</span><br><span class="line">	<span class="built_in">exit</span>(<span class="number">0</span>); </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//while(!feof(in))&#123; //如果未遇到输入文件的结束标志，等价于ch！=EOF，</span></span><br><span class="line"><span class="comment">//	ch=fgetc(in);//从输入文件读入一个字符，暂放在变量ch中</span></span><br><span class="line"><span class="comment">//	fputc(ch,out);//将ch写到输出文件中</span></span><br><span class="line"><span class="comment">//	putchar(ch);//将ch显示在屏幕上</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line">    <span class="keyword">while</span>((ch = fgetc(in)) != EOF)&#123; <span class="comment">// 多执行一次会使末尾多ÿ </span></span><br><span class="line">	fputc(ch,out);</span><br><span class="line">	<span class="built_in">putchar</span>(ch);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">putchar</span>(<span class="number">10</span>);<span class="comment">//显示完全部字符串后换行</span></span><br><span class="line">fclose(in);</span><br><span class="line">fclose(out);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;   </span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>输入路径时使用<code>\\</code>防止转义字符如：<code>D:\\test\\one.dat</code></li>
</ul>
<p>格式化方式读写文件：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">fprintf</span>(文件指针,格式字符串,输出列表);</span><br><span class="line">fsacnf(文件指针,格式字符串,输入列表);</span><br><span class="line">例如：</span><br><span class="line"><span class="built_in">fprintf</span>(fp,<span class="string">"%d,%6.2f"</span>,i,f);</span><br><span class="line">输出：</span><br><span class="line">    <span class="number">3</span>，<span class="number">4.50</span></span><br><span class="line">fsacnf(fp,<span class="string">"%d,%6.2f"</span>,&amp;i,&amp;f);</span><br></pre></td></tr></table></figure>
<p>用二进制防止向文件读写一组数据：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fread(buffer,size,conunt,fb);</span><br><span class="line">fwrite(buffer,size,count,fp);</span><br></pre></td></tr></table></figure>
<ul>
<li>其中，<code>buffer</code>是一个地址，对<code>fread</code>来说时存放文件读入的储存区地址。对<code>fwrite</code>来说，是要把此地址开始的存储区中的数据向文件输出。<code>size</code>表示要读写的字节数。<code>count</code>要读写多少个数据项(每个数据项长度为<code>size</code>)。<code>fp</code>是<code>FILE</code>类型指针。</li>
</ul>
<p>在打开文件时指定用二进制文件，这样就可以用<code>fread</code>和<code>fwrite</code>读写任何类型的信息，例如：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fread(f,<span class="number">4</span>,<span class="number">10</span>,fp);<span class="comment">//其中f是一个float类型的数组名(代表数据首元素地址)。这个函数从fp所指向的文件中读入10个4字节的数据，存储到数组f中。</span></span><br></pre></td></tr></table></figure>
<p>读结构体：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student_type</span>&#123;</span></span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">char</span> addr[<span class="number">30</span>];</span><br><span class="line">&#125;stud[<span class="number">40</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">40</span>;i++)</span><br><span class="line">    fread(&amp;stud[i],<span class="keyword">sizeof</span>(struct Student_type),<span class="number">1</span>,fp);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>rewind</code>函数的作用是使文件位置标记重新返回文件开头，此函数没有返回值。</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rewind(fp1);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>fseek</code>函数改变文件位置标记，使用形式 <strong>feek(文件类型指针，位移量，起始点)</strong></li>
</ul>
<p><img src="/2020/08/20/c语言复习/7.jpg" alt></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fseek(fp,<span class="number">100L</span>,<span class="number">0</span>);<span class="comment">//将文件位置标记向前移动到离文件开头100字节处</span></span><br><span class="line">fseek(fp,<span class="number">50L</span>,<span class="number">1</span>);<span class="comment">//将文件位置标记向前移动到离当前位置50字节处</span></span><br><span class="line">fseek(fp,<span class="number">-10L</span>,<span class="number">2</span>);<span class="comment">//将文件位置标记从文件末尾向后退10个字节</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>ftell</code>标记当前位置</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">i=ftell(fp);<span class="comment">//存放当前位置</span></span><br><span class="line"><span class="keyword">if</span> (i==<span class="number">-1L</span>)<span class="built_in">printf</span>(<span class="string">"error\n"</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>ferror</code>读写出错检查，返回0为未出错，如果是非零值则表示出错。</li>
</ul>
<hr>
<h2 id="C"><a href="#C" class="headerlink" title="C++"></a>C++</h2><ul>
<li>可以进行<code>bool</code>运算使用基本运算符号表示可以判断</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//In C99 没有bool</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> BOOL;</span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> TRUE 1;</span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> FALSE 0;</span></span><br><span class="line">C++</span><br><span class="line">    </span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="comment">//using namespace std;//不建议引入完全名词空间</span></span><br><span class="line"><span class="comment">//using std::cout;</span></span><br><span class="line"><span class="comment">//using std::endl;//可以省略前面std::的书写直接用 cout&lt;&lt;"hello world C++!"&lt;&lt;endl;</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">bool</span> isAlpha;</span><br><span class="line">	isAlpha =<span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">if</span>(!isAlpha)&#123;</span><br><span class="line">		<span class="built_in">std</span>::<span class="built_in">cout</span>&lt;&lt;<span class="string">"isAlpha="</span>&lt;&lt;isAlpha&lt;&lt;<span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">std</span>::<span class="built_in">cout</span>&lt;&lt;<span class="built_in">std</span>::boolalpha&lt;&lt;<span class="string">"isAlpha="</span> &lt;&lt;isAlpha&lt;&lt;<span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>类型转换</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">C Style:(type)value</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>,(<span class="keyword">int</span>)<span class="number">2.5</span>);</span><br><span class="line"></span><br><span class="line">C++ Style:<span class="keyword">static_cast</span>&lt;type&gt;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="keyword">static_cast</span>&lt;<span class="keyword">double</span>&gt;(<span class="number">1</span>)/<span class="number">2</span>;<span class="comment">//double/double输出0.5</span></span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="number">1</span>/<span class="number">2</span>;<span class="comment">//int/int输出0</span></span><br></pre></td></tr></table></figure>
<ul>
<li>定义</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">y</span><span class="params">(<span class="number">1</span>)</span></span>;<span class="comment">//相当于int y=1;</span></span><br><span class="line"><span class="keyword">int</span> x;</span><br><span class="line"><span class="keyword">int</span>&amp; rx=x;<span class="comment">//引用别名&amp;靠近类型</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> SIZE=<span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span>* p1;</span><br><span class="line">p1=&amp;SIZE;<span class="comment">//不能改变其值 *p1=2；</span></span><br></pre></td></tr></table></figure>
<ul>
<li>变量作用域，可在两个非嵌套块中声明两个<code>i</code><ul>
<li>当局部变量与全局冲突时，可使用<code>::</code>访问全局变量</li>
</ul>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">int</span> v1=<span class="number">10</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> v1=<span class="number">5</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"局部变量v1:"</span>&lt;&lt;v1&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"全局变量v1："</span>&lt;&lt;::v1&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">function1</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> y = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i =<span class="number">1</span>;i&lt;<span class="number">5</span>;i++)&#123;</span><br><span class="line">        x+=i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i =<span class="number">1</span>;i&lt;<span class="number">5</span>;i++)&#123;</span><br><span class="line">        y+=i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"x="</span>&lt;&lt;x&lt;&lt;<span class="string">"y="</span>&lt;&lt;y&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>重载函数，同名函数，传参类型不同，编译器会自动匹配。</p>
</li>
<li><p>默认参数,要后置,这样调用时不会有歧义。</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> b,<span class="keyword">double</span> a=<span class="number">1.0</span>)</span></span>&#123;&#125;;</span><br><span class="line">test(<span class="number">3</span>);</span><br><span class="line">test(<span class="number">3</span>,<span class="number">4.0</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y =<span class="number">10</span>)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x+y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x+<span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    add(<span class="number">1</span>);<span class="comment">//歧义，两个都可以匹配</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="动态内存管理"><a href="#动态内存管理" class="headerlink" title="动态内存管理"></a>动态内存管理</h3><ul>
<li>C++中通过运算符<code>new</code>申请动态内存<ul>
<li>如果申请成功，返回指定类型内存的地址；</li>
<li>如果申请失败，返回空指针（整数0，C++中废弃了NULL）；</li>
</ul>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> &lt;类型名&gt;（初值）；<span class="comment">//申请一个变量的空间</span></span><br><span class="line"><span class="keyword">new</span> &lt;类型名&gt;[常量表达式]；<span class="comment">//申请数组</span></span><br></pre></td></tr></table></figure>
<ul>
<li>动态内存使用完毕后，要用delete运算符来释放。</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> &lt;指针名&gt;；<span class="comment">//删除一个变量的空间</span></span><br><span class="line"><span class="keyword">delete</span> []&lt;指针名&gt;；<span class="comment">//删除一个数组空间</span></span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/20/c语言复习/8.jpg" alt></p>
<ul>
<li>常量指针 VS 指针常量<ul>
<li>在前先读，在前不变，<code>const</code>在谁前面谁就不允许被改变。</li>
</ul>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> * X;</span><br><span class="line"><span class="keyword">int</span> * <span class="keyword">const</span> y;</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/20/c语言复习/9.jpg" alt></p>
<hr>
<h3 id="C-数据类型"><a href="#C-数据类型" class="headerlink" title="C++数据类型"></a>C++数据类型</h3><ul>
<li>C++中数据类型分布</li>
</ul>
<p><img src="/2020/08/20/c语言复习/10.jpg" alt></p>
<ul>
<li><code>Constructors</code>构造函数</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Name</span>&#123;</span></span><br><span class="line">  <span class="keyword">public</span>:<span class="comment">//表示公共可以被其他调用内部，默认是private</span></span><br><span class="line">    <span class="keyword">int</span> test;</span><br><span class="line">    </span><br><span class="line">    Name()&#123;</span><br><span class="line">        test =<span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    Name(<span class="keyword">double</span> newTest)&#123;</span><br><span class="line">        test=newTest;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getArea</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> test*<span class="number">2</span>;<span class="comment">//直接访问了类中的成员变量test，并没有传</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;<span class="comment">//不能忘</span></span><br></pre></td></tr></table></figure>
<p>项目属性参数C++中加<code>-O0</code>表示不做任何优化</p>
<hr>
<h3 id="类的声明和使用"><a href="#类的声明和使用" class="headerlink" title="类的声明和使用"></a>类的声明和使用</h3><ul>
<li>类的声明和实现：</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">Test.cpp<span class="comment">//函数实现::-》二元作用域分隔符，域分隔符</span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"Test.h"</span></span></span><br><span class="line"></span><br><span class="line">Test::Test()&#123;</span><br><span class="line">    num=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Test::Test(<span class="keyword">double</span> newNum)&#123;</span><br><span class="line">    num=newNum;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">double</span> Test::getNum()&#123;</span><br><span class="line">    <span class="keyword">return</span> num*<span class="number">3</span>;</span><br><span class="line">&#125;;</span><br><span class="line">    </span><br><span class="line">Test.h<span class="comment">//类声明，包括成员声明和函数声明</span></span><br><span class="line">Class Test&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">double</span> num;</span><br><span class="line">    </span><br><span class="line">    Test();</span><br><span class="line">    </span><br><span class="line">    Test(<span class="keyword">double</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">getNum</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">TestMain.cpp<span class="comment">//主函数</span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"Test.h"</span></span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Test test1;</span><br><span class="line">    <span class="function">Test <span class="title">test</span><span class="params">(<span class="number">5.0</span>)</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"test1的数据:"</span>&lt;&lt;test1.num&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"test2的数据:"</span>&lt;&lt;test2.num&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    </span><br><span class="line">    test2.num=<span class="number">10</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"test2的数据改变后："</span>&lt;&lt;test2.num&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="C-指针"><a href="#C-指针" class="headerlink" title="C++指针"></a>C++指针</h3><ul>
<li>用指针访问对象</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Test test1;</span><br><span class="line">Test *ptest=&amp;test1;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"test1的数据:"</span>&lt;&lt; (*ptest).num &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"test1的数据:"</span>&lt;&lt; ptest-&gt;num &lt;&lt;<span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>在堆区创建对象（不会在执行完后被从栈区销毁）</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Test *ptest1=<span class="keyword">new</span> Test();</span><br><span class="line">Test *ptest1=<span class="keyword">new</span> Test(<span class="number">5.0</span>);</span><br><span class="line"><span class="comment">//程序结束时动态对象会被销毁，或者</span></span><br><span class="line"><span class="keyword">delete</span> ptest1;<span class="comment">//用delete显式销毁</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> </span></span><br><span class="line"><span class="built_in">string</span> newString;<span class="comment">//构造一个空字符串</span></span><br><span class="line"><span class="function">streing <span class="title">mssage</span><span class="params">(<span class="string">"hello world"</span>)</span></span>;</span><br><span class="line"><span class="keyword">char</span> charArray[]=&#123;<span class="string">'H'</span>,<span class="string">'e'</span>,<span class="string">'l'</span>,<span class="string">'l'</span>,<span class="string">'o'</span>,<span class="string">'\0'</span>&#125;;</span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">massage</span><span class="params">(charArray)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//追加新值append</span></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">str</span><span class="params">(<span class="string">"test"</span>)</span></span>;</span><br><span class="line">str.append(<span class="string">"qwe"</span>);<span class="comment">//向后添加</span></span><br><span class="line">str.append(<span class="string">"qwezxc"</span>，<span class="number">3</span>，<span class="number">1</span>);<span class="comment">//从3号index位开始，向后2个字符zx添加进去</span></span><br><span class="line">str.append(<span class="string">"qwezxc"</span>，<span class="number">3</span>);<span class="comment">//将qwez向后加</span></span><br><span class="line">str.apped(<span class="number">3</span>,<span class="string">'G'</span>);<span class="comment">//向后加GGG</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//赋新值assign</span></span><br><span class="line">str.assign(<span class="string">"newchar"</span>);</span><br><span class="line"></span><br><span class="line">at(index);<span class="comment">//返回当前字符串中index位字符</span></span><br><span class="line">clear();<span class="comment">//清空字符串</span></span><br><span class="line">erase(index,n);<span class="comment">//删除字符串从index开始的n个字符</span></span><br><span class="line">empty();<span class="comment">//检测字符串是否为空，return 1</span></span><br><span class="line">compare();<span class="comment">//比较字符串s1.compare(s2),相等=0</span></span><br><span class="line">substr(index,n);<span class="comment">//字符串从index开始的n个字符，只有一个整数时为从该位置开始到末尾的所有字符</span></span><br><span class="line">find(<span class="string">"co"</span>,n);<span class="comment">//查找子串，n为起始位置</span></span><br><span class="line">insert();<span class="comment">//插入字符串</span></span><br><span class="line">replace();<span class="comment">//替换字符串中子串</span></span><br><span class="line">str.replace(<span class="number">3</span>,<span class="number">4</span>,<span class="string">"C++"</span>);<span class="comment">//从3号位置开始替换后面的4个字符串 C++3个后面还有个'\0'一共4个字符</span></span><br></pre></td></tr></table></figure>
<ul>
<li>字符串运算符</li>
</ul>
<p><img src="/2020/08/20/c语言复习/11.jpg" alt></p>
<hr>
<h3 id="数据封装"><a href="#数据封装" class="headerlink" title="数据封装"></a>数据封装</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">Test2.cpp<span class="comment">//函数实现::-》二元作用域分隔符，域分隔符</span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"Test.h"</span></span></span><br><span class="line">Test::Test()&#123;</span><br><span class="line">    num=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Test::Test(<span class="keyword">int</span> newNum)&#123;</span><br><span class="line">    num=newNum;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">int</span> Test::getNum()&#123;</span><br><span class="line">    <span class="keyword">return</span> num*<span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> Test::setNum(<span class="keyword">int</span> newNum)&#123;</span><br><span class="line">    num=newNum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Test.h<span class="comment">//类声明，包括成员声明和函数声明</span></span><br><span class="line">Class Test&#123;</span><br><span class="line">    <span class="keyword">public</span>: </span><br><span class="line">    <span class="keyword">double</span> num; </span><br><span class="line">    Test(); </span><br><span class="line">    Test(<span class="keyword">int</span>);</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getNum</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setNum</span><span class="params">(<span class="keyword">int</span>)</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">&#125;;<span class="comment">//不能忘</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="变量作用域和this指针"><a href="#变量作用域和this指针" class="headerlink" title="变量作用域和this指针"></a>变量作用域和this指针</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    Test();</span><br><span class="line">    Test(<span class="keyword">double</span> num)&#123;<span class="comment">//局部变量与私有变量冲突</span></span><br><span class="line">        <span class="comment">//num=num;</span></span><br><span class="line">        <span class="keyword">this</span>-&gt;num=num;<span class="comment">//this引用当前函数的调用对象,私有变量</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> num;<span class="comment">//或使用规范，私有类变量后加_</span></span><br><span class="line">    <span class="keyword">double</span> num_;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setNum</span><span class="params">(<span class="keyword">double</span>)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<ul>
<li>对象数组</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Test testarray[<span class="number">10</span>];<span class="comment">//相当于testarray[1].getNum()</span></span><br><span class="line">Test testarray[<span class="number">3</span>]=&#123;</span><br><span class="line">    Test(<span class="number">3</span>);<span class="comment">//匿名函数赋值</span></span><br><span class="line">    Test(<span class="number">4</span>);</span><br><span class="line">    Test(<span class="number">5</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/tool/" rel="tag"># tool</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/05/12/基于SSD目标检测网络的树莓派控制系统（三）/" rel="next" title="基于SSD目标检测网络的树莓派控制系统（三）">
                <i class="fa fa-chevron-left"></i> 基于SSD目标检测网络的树莓派控制系统（三）
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/08/24/数据结构/" rel="prev" title="数据结构">
                数据结构 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/uploads/avatar.jpg" alt="paniford">
            
              <p class="site-author-name" itemprop="name">paniford</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">30</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#C-C-语言复习"><span class="nav-number">1.</span> <span class="nav-text">C/C++语言复习</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#指针"><span class="nav-number">1.0.1.</span> <span class="nav-text">指针</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#结构体"><span class="nav-number">1.0.2.</span> <span class="nav-text">结构体</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#链表"><span class="nav-number">1.0.3.</span> <span class="nav-text">链表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#共用体"><span class="nav-number">1.0.4.</span> <span class="nav-text">共用体</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#枚举类型"><span class="nav-number">1.0.5.</span> <span class="nav-text">枚举类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#typedef"><span class="nav-number">1.0.6.</span> <span class="nav-text">typedef</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文件"><span class="nav-number">1.0.7.</span> <span class="nav-text">文件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#C"><span class="nav-number">1.1.</span> <span class="nav-text">C++</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#动态内存管理"><span class="nav-number">1.1.1.</span> <span class="nav-text">动态内存管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#C-数据类型"><span class="nav-number">1.1.2.</span> <span class="nav-text">C++数据类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#类的声明和使用"><span class="nav-number">1.1.3.</span> <span class="nav-text">类的声明和使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#C-指针"><span class="nav-number">1.1.4.</span> <span class="nav-text">C++指针</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字符串"><span class="nav-number">1.1.5.</span> <span class="nav-text">字符串</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数据封装"><span class="nav-number">1.1.6.</span> <span class="nav-text">数据封装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#变量作用域和this指针"><span class="nav-number">1.1.7.</span> <span class="nav-text">变量作用域和this指针</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">paniford</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "./public/search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
